<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Check-in！！！</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }

        h1 {
            color: #333;
        }

        .title{
            text-align: left;
        }
        #recap{
            display: block ;
        }
        .section {
            display: none;
        }
        

        #inputCounter {
            font-size: 24px;
            margin: 20px;
        }

        #nextBtn,
        #incrementBtn,
        #decrementBtn {
            font-size: 16px;
            padding: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="intro" class="title">
        <h2>hello rachel! here's your weekly check-in</h2>
    </div>
    <div>
        <form id="prevWeekForm">
            <!-- how many sessions did u complete this week? 
            <select id="prevSessionsCompleted"> 
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
        </div> -->
        <button type="submit" >Submit</button>
        <div class="progressbar" >
            <div class="progress " id="progress"></div>
            <div class="progress-step progress-step-active" data-title="Weekly Check-in"></div>
            <div class="progress-step" data-title="Check-in"></div>
            <div class="progress-step" data-title="Progress Update"></div>
            <div class="progress-step" data-title="Goal Setting"></div>
        </div>
   
        <!-- Steps -->
        <div class="form-step form-step-active" data-step="1">
            <!-- Step 1 Fields -->
            <h1 class="display mb-3">Weekly Check-in!</h1>
            <div class="row input-group">
                <div class="col-sm-12 form-group">
                    <label for="prevSessionsCompleted"><strong>How many workouts did you complete last week?</strong></label>
                    <input id="name" type="text" class="form-control" aria-describedby="nameHelp" placeholder="workoutsCompleted">
                </div>
            </div>
            <!-- <div class="row input-group">
                <div class="col-sm-12 col-lg-12 col-md-12 form-group">
                    <label for="emailId"><strong>Email address:*</strong></label>
                    <input id="emailId" type="email" class="form-control" placeholder="johndoe.2022@scis.smu.edu.sg">
                </div>
            </div> -->
            <!-- <div class="row input-group">
                <div class="col form-group">
                    <label for="birthdate"><strong>Date of Birth:*</strong></label>
                    <input id="birthdate" class="form-control" type="date" placeholder="Enter birth date" style="height:38px;">
                </div>
                <div class="col form-group">
                    <label for="phoneNumber"><strong>Phone Number:*</strong></label>
                    <input id="phoneNumber" type="text" class="form-control" placeholder="+65 9123 4567">
                </div>
            </div> -->

            <!-- <div class="row input-group">
                <div class="col form-group">
                    <label for="password"><strong>Password:*</strong></label>
                    <input id="password" type="password" class="form-control" id="InputPassword1" placeholder="Password">
                </div>
                <div class="col form-group">
                    <label for="confirmPassword"><strong>Confirm Password:*</strong></label>
                    <input id="confirmPassword" type="password" class="form-control" placeholder="Password">
                </div>
            </div> -->
            <!-- <div class="row">
                <span class="display-inline"><input type="checkbox" id="t&c" ><small>By creating your account, you agree to the <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">Terms of Service</a> and <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">Privacy Policy</a></small></span>
            </div> -->
            <div class="form-group btns-group">
                <a href="#" class="btn btn-primary btn-next" id="next">Next</a>
            </div>
        </div>

        <!-- Step 2 -->
        <div class="form-step" data-step="2">
            <!-- Step 2 Fields -->
            <h1 class="display m">Focus Areas</h1>
            <p class="display">Let's get started on your journey to fitness by filling in the required information below.</p>
            <div class="form-group row  " style="margin-bottom: 2%;">
                <label for="gender"><strong>Gender:</strong></label>
                <div class="col-md-4">
                    <input type="radio" id="male" class="gender" value="male" name="gender" checked> Male
                </div>
                <div class="col-md-4">
                    <input type="radio" id="female" class="gender" value="female" name="gender"> Female
                </div>
                <div class="col-md-4">
                    <input type="radio" id="other" class="gender" value="other" name="gender"> Other
                </div>
            </div>

            <div class="form-group row" style="margin-bottom: 2%;">
                <label for="exerciseDays"><strong>How many days per week do you currently exercise?</strong></label>
                <input type="range" class="form-range" name="exerciseDaysCount" id="exerciseDays" min="0" max="7" required>
                <div class="output-container">
                    <output for="exerciseDays" class="output">0 days</output>
                    <output for="exerciseDays" class="output">1 days</output>
                    <output for="exerciseDays" class="output">2 days</output>
                    <output for="exerciseDays" class="output">3 days</output>
                    <output for="exerciseDays" class="output">4 days</output>
                    <output for="exerciseDays" class="output">5 days</output>
                    <output for="exerciseDays" class="output">6 days</output>
                    <output for="exerciseDays" class="output">7 days</output>
                </div>
            </div>
            <div class="form-group row " style="margin-bottom: 2%;">
                <label for="fitnessLevel"><strong>How would you rate your current fitness level? (Beginner, Intermediate, Advanced)</strong></label>
                <select class="form-control" name="fitnessLevel" id="fitnessLevel">
                    <option value="beginner">Beginner</option>
                    <option value="intermediate">Intermediate</option>
                    <option value="advanced">Advanced</option>
                </select>
            </div>
            
            <div class="form-group btns-group">
                <a href="#" class="btn btn-outline-primary btn-prev">Previous</a>
                <a href="#" class="btn btn-primary btn-next">Next</a>
            </div>
        </div>

        <!-- Step 3 -->
     
        <div class="form-step" data-step="3">
            <!-- Step 3 Fields -->
            <h1>Lifestyle</h1>
            <div class="form-group row" style="margin-bottom: 2%;">
                <label for="allergies"><strong>Do you have any known allergies? If yes, please provide details.</strong></label>
                <textarea class="form-control" name="allergies" id="allergies">None</textarea>
            </div>
            <div class="form-group row " style="margin-bottom: 2%;">
                <label for="dietaryRestrictions"><strong>Do you have any dietary restrictions or preferences? If yes, please provide details.</strong></label>
                <textarea class="form-control" name="dietaryRestrictions" id="dietaryRestrictions" value="">None</textarea>
            </div>
            
            <div class="form-group btns-group">
                <a href="#" class="btn btn-outline-primary btn-prev">Previous</a>
                <a href="#" class="btn btn-primary btn-next">Next</a>
            </div>
        </div>


        <!-- Step 4 -->
        <div class="form-step" data-step="4">
            <!-- Step 4 Fields -->
            <h1>Training Preferences</h1>
            
            
            <div class="form-group row" style="margin-bottom: 2%;">
                <label for="chosenWorkoutSessions"><strong>Select the number of sessions you want to complete in the next week:*</strong></label>
                <input type="number" min="1" max="7" class="form-control" name="chosenWorkoutSessions" id="chosenWorkoutSessions" value="1">
            </div>
            <div class="form-group row " style="margin-bottom: 2%;">
                <label for="trainingLocation"><strong>What is your preferred training location? (Gym, Outdoors, Home, Virtual)</strong></label>
                <input type="text" class="form-control" name="trainingLocation" id="trainingLocation" value="Anywhere">
            </div>

            <div class="form-group row " style="margin-bottom: 2%;">
                <label for="trainerInterest"><strong>Are you interested in working with a personal trainer or joining group classes?</strong></label>
                <select class="form-control" name="trainerInterest" id="trainerInterest">
                    <option value="personalTrainer">Personal Trainer</option>
                    <option value="groupClasses">Group Classes</option>
                    <option value="selfWorkout">By Myself</option>
                </select>
            </div>

            <div class="form-group btns-group" style="margin-bottom: 2%;"> 
                <a href="#" class="btn btn-outline-primary btn-prev" id="previous">Previous</a>
                <button type="submit" class="btn btn-success" id="submit">Submit</button>
                <button type="btn" class="btn btn-success" style="display: none;" id="gotologin">Go to login page</button>
            </div>
            <p id="error-header"></p>
            <ul id="problems"></ul>
        </div>
        </form>
        
    <!-- <div id="prevMeals">
        how many sessions did u complete this week? 
        <select id="prevSessionsCompleted"> 
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
        </select>
    </div> -->
	<!-- <div id="recap" class="section">
		<h1> Here's your recap from last week: </h1>
        
        <div id="recapContent" class="section">

        </div>

		<button id="nextBtn" onclick="showSection('sessionCount')">Next</button>

	</div>

    <div id="sessionCount" class="section">
        <h1>How many sessions would you like to have this week?</h1>
        
        <button id="decrementBtn" onclick="updateCounter(-1, 'inputCounter')">-</button>
        <input type="text" id="sessionCounter" value="0" write>
        <button id="incrementBtn" onclick="updateCounter(1, 'inputCounter')">+</button>

        <br>
        <button id="prevBtn" onclick="showSection('recap')">Prev</button>
        <button id="nextBtn1" onclick="showSection('focusArea')">Next</button>
    </div>

	<div id="focusArea" class="section">
		<h1>What areas would you like to focus on this week?</h1>

		<select id="focusAreaOptions" name="focusArea">
			<option value="strength">Strength</option>
			<option value="flexibility">flexibility</option>
			<option value="running">Running</option>
			<option value="weightLoss">Weight Loss</option>
			<option value="balance">Balance</option>
		</select>
		
		<br>
        <button id="prevBtn1" onclick="showSection('sessionCount')">Prev</button>
        <button id="nextBtn2" onclick="showSection('mealCounter')">Next</button>
	</div>

    <div id="mealCounter" class="section">
        <h1>How many meals would you like to prepare this week?</h1>
        
        <button id="decrementBtn" onclick="updateCounter(-1, 'inputCounter')">-</button>
        <input type="text" id="mealCounter" value="0" write>
        <button id="incrementBtn" onclick="updateCounter(1, 'inputCounter')">+</button>

		<br>
        <button id="prevBtn2" onclick="showSection()">Prev</button>
        <button id="nextBtn3" onclick="showSection()">Next</button>
    </div> -->

	

    <script>
        // function showSection(specifiedSection){
            
        //     var sections = document.getElementsByClassName("section");
        //     console.log(sections);
        //     // for (var i=0; i < sections.length; i++){
        //     //     var currentSection = document.getElementById(sections[i].id)
        //     //     if (specifiedSection != currentSection.id){
        //     //         currentSection.style.display = 'none';
        //     //     }
        //     //     else {
        //     //         specifiedSection.style.display = 'block';
        //     //     }          
        //     // }
        //     Array.from(sections).forEach(currentSection => {
        //         console.log(currentSection.style.display)
        //         if (specifiedSection != currentSection.id){
        //             currentSection.style.display = 'none';
        //         }
        //         else {
        //             document.getElementById(specifiedSection).style.display = 'block';
        //         }   
        //     })

        // }
		// function showSessionCountSection(){
		// 	document.getElementById("recapSection").style.display = "none";
		// 	document.getElementById("sessionCountSection").style.display = "block";
		// }
		// function showFocusAreaSection(){
		// 	document.getElementById("sessionCountSection").style.display = "none";
		// 	document.getElementById("focusAreaSection").style.display = "block";
		// }
        // function showMealCounterSection() {
        //     // Hide the session count section and show the meal counter section
        //     document.getElementById("focusAreaSection").style.display = "none";
        //     document.getElementById("mealCounterSection").style.display = "block";
        // }
		

        // function updateCounter(value, counterId) {
        //     // Get the current value of the counter
        //     var counterElement = document.getElementById(counterId);
        //     var currentCount = parseInt(counterElement.value);

        //     // Update the counter value
        //     var newCount = currentCount + value;

        //     // Ensure the counter doesn't go below 0
        //     newCount = Math.max(newCount, 0);

        //     // Update the counter display
        //     counterElement.value = newCount;
        // }
        
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
    <script>

    </script>


    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-database.js";

        const firebaseConfig = {
        apiKey: "AIzaSyAuv9pHvIhlo_wNj4tdkzNanWoGtQ-5-t4",
        authDomain: "is216-g2.firebaseapp.com",
        databaseURL: "https://is216-g2-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "is216-g2",
        storageBucket: "is216-g2.appspot.com",
        messagingSenderId: "426453655797",
        appId: "1:426453655797:web:b36588777f86a6d32365bc",
        measurementId: "G-QXTL2H3M37"
        };
        document.addEventListener("DOMContentLoaded", function () {
        

    // Initialize Firebase using your configuration
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const database = getDatabase(app);

    // Reference to the database node where you want to store the data
    const sessionsRef = ref(database, 'userdata/sessions'); 

    document.getElementById('prevWeekForm').addEventListener('submit', submitForm);

    function submitForm(e) {
        e.preventDefault();

        const prevSessions = getElementVal('prevSessionsCompleted');

        if (prevSessions === '0') {
            console.log("No input entered");
        } else {
            console.log(`Previous sessions: ${prevSessions}`);

            // Save the data to Firebase
            set(sessionsRef, {
                previousSessions: parseInt(prevSessions),
                timestamp: new Date().toString()
            }).then(() => {
                console.log("Data saved to Firebase");
            }).catch((error) => {
                console.error("Error saving data:", error);
            });
        }
    }

    function getElementVal(id) {
        return document.getElementById(id).value;
    }
});
        //                  //         }     
    </script>
</body>
</html>

